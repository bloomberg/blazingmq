<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libbmq: bmqt/bmqt_sessionoptions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libbmq<span id="projectnumber">&#160;90ca89faf0ba61de8a6abe22e0fc56045a2cb44a</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bmqt__sessionoptions_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bmqt_sessionoptions.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Provide a value-semantic type to configure session with the broker.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;bdlt_timeunitratio.h&gt;</code><br />
<code>#include &lt;bsl_iosfwd.h&gt;</code><br />
<code>#include &lt;bsl_memory.h&gt;</code><br />
<code>#include &lt;bsl_string.h&gt;</code><br />
<code>#include &lt;bslma_allocator.h&gt;</code><br />
<code>#include &lt;bslma_usesbslmaallocator.h&gt;</code><br />
<code>#include &lt;bslmf_nestedtraitdeclaration.h&gt;</code><br />
<code>#include &lt;bsls_annotation.h&gt;</code><br />
<code>#include &lt;bsls_assert.h&gt;</code><br />
<code>#include &lt;bsls_timeinterval.h&gt;</code><br />
<code>#include &lt;bsls_types.h&gt;</code><br />
</div>
<p><a href="bmqt__sessionoptions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">BloombergLP::bmqt::SessionOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceBloombergLP" id="r_namespaceBloombergLP"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceBloombergLP.html">BloombergLP</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceBloombergLP_1_1bmqpi" id="r_namespaceBloombergLP_1_1bmqpi"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceBloombergLP_1_1bmqpi.html">BloombergLP::bmqpi</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceBloombergLP_1_1bmqt" id="r_namespaceBloombergLP_1_1bmqt"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceBloombergLP_1_1bmqt.html">BloombergLP::bmqt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3cd71fd8e31a80980d1a2c73a2ee29ba" id="r_a3cd71fd8e31a80980d1a2c73a2ee29ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceBloombergLP_1_1bmqt.html#a3cd71fd8e31a80980d1a2c73a2ee29ba">BloombergLP::bmqt::operator==</a> (const <a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">SessionOptions</a> &amp;lhs, const <a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">SessionOptions</a> &amp;rhs)</td></tr>
<tr class="separator:a3cd71fd8e31a80980d1a2c73a2ee29ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e670a924ff24ea37e1e6041f15e1b7f" id="r_a0e670a924ff24ea37e1e6041f15e1b7f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceBloombergLP_1_1bmqt.html#a0e670a924ff24ea37e1e6041f15e1b7f">BloombergLP::bmqt::operator!=</a> (const <a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">SessionOptions</a> &amp;lhs, const <a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">SessionOptions</a> &amp;rhs)</td></tr>
<tr class="separator:a0e670a924ff24ea37e1e6041f15e1b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffaa6132c4c9280745d270776f4339c" id="r_adffaa6132c4c9280745d270776f4339c"><td class="memItemLeft" align="right" valign="top">bsl::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceBloombergLP_1_1bmqt.html#adffaa6132c4c9280745d270776f4339c">BloombergLP::bmqt::operator&lt;&lt;</a> (bsl::ostream &amp;stream, const <a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">SessionOptions</a> &amp;rhs)</td></tr>
<tr class="separator:adffaa6132c4c9280745d270776f4339c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">bmqt::SessionOptions</a> provides a value-semantic type, <code>SessionOptions</code>, which is used to specify session-level configuration parameters.</p>
<p>Most applications should not need to change the parameters for creating a <a class="el" href="classBloombergLP_1_1bmqa_1_1Session.html">bmqa::Session</a>; the default parameters are fine.</p>
<p>The following parameters are supported:</p>
<ul>
<li><p class="startli"><em>brokerUri</em>: Address of the broker to connect to. Default is to connect to the broker on the local host on the default port (30114). The format is <code>tcp://&lt;host&gt;:port</code>. Host can be:</p><ul>
<li>an explicit hostname or <code>localhost</code>,</li>
<li>an IP, example 10.11.12.13, or</li>
<li>a DNS entry. In this case, the client will resolve the list of addresses from that entry, and try to connect to one of them. When the connection with the host goes down, it will automatically immediately failover and reconnects to another entry from the address list.</li>
</ul>
<p class="startli">If the environment variable <code>BMQ_BROKER_URI</code> is set, then instances of <a class="el" href="classBloombergLP_1_1bmqa_1_1Session.html">bmqa::Session</a> will ignore the <code>brokerUri</code> field from the provided <a class="el" href="classBloombergLP_1_1bmqt_1_1SessionOptions.html">bmqt::SessionOptions</a> and use the value from this environment variable instead.</p>
</li>
<li><em>processNameOverride</em>: If not empty, use this value for the processName in the identity message (useful for scripted language bindings). This field is used in the broker's logs to more easily identify the client's process.</li>
<li><em>numProcessingThreads</em>: Number of threads to use for processing events. Default is 1. Note that this setting has an effect only if providing a <a class="el" href="classBloombergLP_1_1bmqa_1_1SessionEventHandler.html">bmqa::SessionEventHandler</a> to the session.</li>
<li><em>blobBufferSize</em>: Size (in bytes) of the blob buffers to use. Default value is 4k.</li>
<li><em>channelHighWatermark</em>: Size (in bytes) to use for write cache high watermark on the channel. Default value is 128MB. This value is set on the <code>writeCacheHiWatermark</code> of the <code>btemt_ChannelPoolConfiguration</code> object used by the session with the broker. Note that BlazingMQ reserves 4MB of this value for control message, so the actual watermark for data published is <code>channelHighWatermark - 4MB</code>.</li>
<li><em>statsDumpInterval</em>: Interval (in seconds) at which to dump stats in the logs. Set to 0 to disable recurring dump of stats (final stats are always dumped at end of session). Default is 5min. The value must be a multiple of 30s, in the range [0s - 60min].</li>
<li><em>connectTimeout</em>, <em>disconnectTimeout</em>, <em>openQueueTimeout</em>, <em>configureQueueTimeout</em>, <em>closeQueueTimeout</em>: Default timeout to use for various operations.</li>
<li><em>eventQueueLowWatermark</em>, <em>eventQueueHighWatermark</em>: Parameters to configure the EventQueue notification watermarks thresholds. The EventQueue is the buffer of all incoming events from the broker (PUSH and ACK messages as well as session and queue operations result) pending being processed by the application code. A warning (<a class="el" href="structBloombergLP_1_1bmqt_1_1SessionEventType.html#ae92327d931cc88d7adb05afdbc5f0431a90ce299f088565b46f31f2207dec922e">bmqt::SessionEventType::e_SLOWCONSUMER_HIGHWATERMARK</a>) is emitted when the buffer reaches the <code>highWatermark</code> value, and a notification (<a class="el" href="structBloombergLP_1_1bmqt_1_1SessionEventType.html#ae92327d931cc88d7adb05afdbc5f0431aa4c0a2b2dde582bd673d0315dcd43226">bmqt::SessionEventType::e_SLOWCONSUMER_NORMAL</a>) is sent when the buffer is back to the <code>lowWatermark</code>. The <code>highWatermark</code> typically would be reached in case of either a very slow consumer, causing events to accumulate in the buffer, or a huge burst of data. Setting the <code>highWatermark</code> to a high value should be done cautiously because it will potentially hide slowness of the consumer because of the enqueuing of PUSH events for a consumer, ACK events for a producer as well as all system events to the buffer (meaning that the messages may have a huge latency). Note, it is also recommended to have a reasonable distance between <code>highWatermark</code> and <code>lowWatermark</code> values to avoid a constant back and forth toggling of state resulting from push pop of events.</li>
<li><em>hostHealthMonitor</em>: Optional instance of a class derived from <a class="el" href="classBloombergLP_1_1bmqpi_1_1HostHealthMonitor.html">bmqpi::HostHealthMonitor</a>, responsible for notifying the <a class="el" href="classBloombergLP_1_1bmqa_1_1Session.html">bmqa::Session</a> when the health of the host machine has changed. A <code>hostHealthMonitor</code> must be specified, in order for queues opened through the session to suspend on unhealthy hosts.</li>
<li><em>traceOptions</em>: Provides the <a class="el" href="classBloombergLP_1_1bmqpi_1_1DTContext.html">bmqpi::DTContext</a> and <a class="el" href="classBloombergLP_1_1bmqpi_1_1DTTracer.html">bmqpi::DTTracer</a> objects required for integration with a Distributed Trace framework. If these objects are provided, then the session will use them to create "spans" to represent requests made to the BlazingMQ broker on behalf of operations initiated by the client. This includes session-level operations (e.g., Session-Start, Session-Stop) as well as queue-level operations (e.g., Queue-Open, Queue-Configure, Queue-Close). </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8e091ab1c7d4f7f0c38972fd2ce6f060.html">bmqt</a></li><li class="navelem"><a class="el" href="bmqt__sessionoptions_8h.html">bmqt_sessionoptions.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
